(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{34:function(e,t,a){e.exports=a(56)},43:function(e,t,a){},44:function(e,t,a){},46:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(21),r=a.n(o),s=a(3),l=a(4),i=a(20),u=a(32),m=(a(43),a(44),Object(l.b)(function(e){return{quantityPhones:Object.keys(e.basketItems).map(function(t){return e.basketItems[t].count}).reduce(function(e,t){return e+t},0)}})(function(e){var t=e.quantityPhones;return c.a.createElement("nav",{className:"nav"},c.a.createElement("ul",{className:"nav__list"},c.a.createElement("li",null,c.a.createElement(s.b,{className:"nav__item",activeClassName:"nav__item--active",to:"/",exact:!0},"Home Page")),c.a.createElement("li",null,c.a.createElement(s.b,{className:"nav__item",activeClassName:"nav__item--active",to:"/phones",exact:!0},"Phones Page")),c.a.createElement("li",null,c.a.createElement(s.b,{className:"nav__item",activeClassName:"nav__item--active",to:"/basket"},"Basket\xa0",t>0&&"(".concat(t,")")))))})),h=a(16),p=(a(46),function(){return c.a.createElement("h1",{className:"title"},"Home Page")}),b=a(18),d=a.n(b),E=a(23),f=a(11),_=a(12),v=a(14),N=a(13),k=a(15),O=function(e){return{type:"PHONES_RECEIVED",phones:e}},j=function(e){return{type:"ADD_TO_BASKET",phoneName:e}},I=(a(48),a(49),function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(v.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(c)))).state={inputValue:"",selectValue:""},a.handleInputValue=function(e){var t=e.target.value,n=a.props,c=n.filterByValue,o=n.sortByValue,r=a.state.selectValue;a.setState({inputValue:t}),c(t),o(r)},a.handleSelect=function(e){var t=e.target.value,n=a.props.sortByValue;a.setState({selectValue:t}),n(t)},a}return Object(k.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e=this.state,t=e.inputValue,a=e.selectValue;return c.a.createElement("div",{className:"filter-wrap"},c.a.createElement("input",{className:"field filter-field",placeholder:"Search in phone catalog",value:t,onChange:this.handleInputValue}),c.a.createElement("select",{className:"field sort-field",value:a,onChange:this.handleSelect},c.a.createElement("option",{className:"sort-field__option",disabled:!0,value:""},"Sort by"),c.a.createElement("option",{className:"sort-field__option",value:"age"},"Newest"),c.a.createElement("option",{className:"sort-field__option",value:"alphabetical"},"Alphabetical")))}}]),t}(c.a.Component)),g=Object(l.b)(null,function(e){return{filterByValue:function(t){return e(function(e){return{type:"FILTER_PHONES",value:e}}(t))},sortByValue:function(t){return e(function(e){return{type:"SORT_BY",value:e}}(t))}}})(I),y=Object(l.b)(function(e){return{phones:e.shownPhones}},function(e){return{addPhoneToBasket:function(t){return e(j(t))}}})(function(e){var t=e.phones,a=e.addPhoneToBasket;return c.a.createElement(c.a.Fragment,null,c.a.createElement(g,null),c.a.createElement("div",{className:"phones"},c.a.createElement("h1",{className:"phones__title"},"Phone Catalog"),t.map(function(e){return c.a.createElement("div",{className:"phone",key:e.id},c.a.createElement(s.b,{to:"/phones/".concat(e.id)},c.a.createElement("div",{className:"phone__img"},c.a.createElement("img",{src:"https://mate-academy.github.io/phone-catalogue-static/".concat(e.imageUrl),alt:e.name,width:"100%"}))),c.a.createElement(s.b,{to:"/phones/".concat(e.id)},c.a.createElement("div",{className:"phone__name"},e.name)),c.a.createElement("button",{type:"button",className:"phone__btn",onClick:function(){return a(e.name)}},"Add to basket"))})))}),w=(a(50),function(){return c.a.createElement("div",{className:"load"},c.a.createElement("div",{className:"load__line load__line-first"}),c.a.createElement("div",{className:"load__line load__line-second"}),c.a.createElement("div",{className:"load__line load__line-third"}))}),P=(a(51),function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(v.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(c)))).state={mainImg:a.props.phone.images[0]},a.handleMainImage=function(e){return a.setState({mainImg:e})},a}return Object(k.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.phone,n=t.addPhoneToBasket,o=this.state.mainImg;return c.a.createElement("div",{className:"phone-wrap"},c.a.createElement("h1",{className:"phone-title"},a.name),c.a.createElement("div",{className:"phone-details"},c.a.createElement("div",{className:"phone-details__main-img"},c.a.createElement("img",{src:"https://mate-academy.github.io/phone-catalogue-static/".concat(o),alt:a.name,width:"100%"})),c.a.createElement("div",{className:"phone-details__overview"},c.a.createElement("div",{className:"phone-details__desc"},a.description),c.a.createElement("button",{type:"button",className:"phone-details__btn",onClick:function(){return n(a.name)}},"Add to basket")),c.a.createElement("div",{className:"phone-details__img"},c.a.createElement("ul",{className:"phone-details__img-list"},a.images.map(function(t){return c.a.createElement("li",{key:t,className:"phone-details__img-item",onClick:function(){return e.handleMainImage(t)}},c.a.createElement("img",{src:"https://mate-academy.github.io/phone-catalogue-static/".concat(t),alt:a.name,width:"100%"}))})))))}}]),t}(c.a.Component)),S=Object(l.b)(null,function(e){return{addPhoneToBasket:function(t){return e(j(t))}}})(P),C=(a(52),function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(v.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(c)))).state={phone:[],isLoaded:!1,error:!1},a}return Object(k.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){var e=Object(E.a)(d.a.mark(function e(){var t,a=this;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.match,fetch("https://mate-academy.github.io/phone-catalogue-static/api/phones/".concat(t.params.phoneId,".json")).then(function(e){return e.json()}).then(function(e){return a.setState({phone:e,isLoaded:!0})}).catch(function(){return a.setState({error:!0,isLoaded:!0})});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.isLoaded,a=e.phone,n=e.error;return c.a.createElement("div",null,n&&c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",{className:"error"},"Phone was not found"),c.a.createElement(s.b,{className:"error-link",to:"/phones"},"Back to Phones Page")),t&&!n?c.a.createElement(S,{phone:a}):c.a.createElement(w,null))}}]),t}(c.a.Component)),B=(a(53),function(e){function t(){return Object(f.a)(this,t),Object(v.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){var e=Object(E.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.props.payLoad();case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.isLoaded;return c.a.createElement("div",null,e?c.a.createElement(h.c,null,c.a.createElement(h.a,{path:"/phones",exact:!0,component:y}),c.a.createElement(h.a,{path:"/phones/:phoneId",exact:!0,component:C})):c.a.createElement(w,null))}}]),t}(c.a.Component)),T=Object(l.b)(function(e){return{isLoaded:e.isLoadedPhones}},function(e){return{payLoad:function(){return e(function(e){fetch("https://mate-academy.github.io/phone-catalogue-static/api/phones.json").then(function(e){return e.json()}).then(function(t){return e(O(t))})})}}})(B),A=(a(54),Object(l.b)(function(e){return{phones:e.basketItems}},function(e){return{increaseItem:function(t){return e(function(e){return{type:"BASKET_ITEM_INCREASED",phoneName:e}}(t))},decreaseItem:function(t){return e(function(e){return{type:"BASKET_ITEM_DECREASED",phoneName:e}}(t))},removeItem:function(t,a){return e({type:"BASKET_ITEM_REMOVED",phoneName:t})}}})(function(e){var t=e.phones,a=e.increaseItem,n=e.decreaseItem,o=e.removeItem;return c.a.createElement("div",{className:"basket"},c.a.createElement("h1",{className:"basket__title"},"Basket"),Object.keys(t).map(function(e){return c.a.createElement("div",{key:e,className:"basket__phone"},c.a.createElement("div",{className:"basket__phone-name"},e),c.a.createElement("button",{type:"button",className:"basket__phone-btn",onClick:function(){return a(e)}},"+"),c.a.createElement("div",{className:"basket__phone-count"},t[e].count),c.a.createElement("button",{type:"button",className:"basket__phone-btn",onClick:function(){return n(e)}},"-"),c.a.createElement("button",{type:"button",className:"basket__phone-btn-delete",onClick:function(){return o(e,t[e].count)}},"x"))}))})),V=(a(55),function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",{className:"error-404"},"404"),c.a.createElement("p",{className:"error-404-desc"},"NotFoundPage"),c.a.createElement(s.b,{className:"error-404-link",to:"/"},"Back to HomePage"))}),D=function(){return c.a.createElement(h.c,null,c.a.createElement(h.a,{path:"/",exact:!0,component:p}),c.a.createElement(h.a,{path:"/phones",component:T}),c.a.createElement(h.a,{path:"/basket",component:A}),c.a.createElement(h.a,{component:V}))},L=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(m,null),c.a.createElement(D,null))},M=a(28),R=a(17),x=a(2),K={phones:[],shownPhones:[],basketItems:[],isLoadedPhones:!1},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0,a=Object(x.a)({},e.basketItems);switch(t.type){case"PHONES_RECEIVED":return Object(x.a)({},e,{isLoadedPhones:!0,phones:t.phones,shownPhones:t.phones});case"ADD_TO_BASKET":return e.basketItems[t.phoneName]?Object(x.a)({},e,{basketItems:Object(x.a)({},e.basketItems,Object(R.a)({},t.phoneName,Object(x.a)({},e.basketItems[t.phoneName],{count:e.basketItems[t.phoneName].count+1})))}):Object(x.a)({},e,{basketItems:Object(x.a)({},e.basketItems,Object(R.a)({},t.phoneName,Object(x.a)({},e.basketItems[t.phoneName],{id:new Date,phone:t.phoneName,count:1})))});case"BASKET_ITEM_INCREASED":return Object(x.a)({},e,{basketItems:Object(x.a)({},e.basketItems,Object(R.a)({},t.phoneName,Object(x.a)({},e.basketItems[t.phoneName],{count:e.basketItems[t.phoneName].count+1})))});case"BASKET_ITEM_DECREASED":return Object(x.a)({},e,{basketItems:Object(x.a)({},e.basketItems,Object(R.a)({},t.phoneName,Object(x.a)({},e.basketItems[t.phoneName],{count:e.basketItems[t.phoneName].count>1?e.basketItems[t.phoneName].count-1:1})))});case"BASKET_ITEM_REMOVED":return delete a[t.phoneName],Object(x.a)({},e,{basketItems:a});case"FILTER_PHONES":return Object(x.a)({},e,{shownPhones:e.phones.filter(function(e){return e.name.toLowerCase().includes(t.value.toLowerCase())})});case"SORT_BY":return"alphabetical"===t.value?Object(x.a)({},e,{shownPhones:Object(M.a)(e.shownPhones).sort(function(e,t){return e.name.localeCompare(t.name)})}):Object(x.a)({},e,{shownPhones:Object(M.a)(e.shownPhones).sort(function(e,t){return e.age-t.age})});default:return e}},F=Object(i.c)(H,Object(i.a)(u.a));r.a.render(c.a.createElement(s.a,null,c.a.createElement(l.a,{store:F},c.a.createElement(L,null))),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.18b3b5b1.chunk.js.map